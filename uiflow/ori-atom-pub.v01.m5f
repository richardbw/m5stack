{"components":[{"id":"____screen","createTime":1615327028961,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","type":"screen"}],"type":"atom","versions":"Beta","units":[],"hats":[],"blockly":"<variables><variable id=\"b[dhtARgL!(4^WbcjWJ@\">mqtt_topic</variable><variable id=\"fFtlX+^WinPnyzXSRZ%h\">script_name</variable><variable id=\"?SC22VTMA8l_+`#4|=_g\">mqtt_hostname</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"-110\" y=\"30\"><next><block type=\"text_print\" id=\"$.e*b.:b4kxq~dXtm*7k\"><value name=\"TEXT\"><block type=\"text\" id=\"sh!9T-)D=Rz03f{d(3QK\"><field name=\"TEXT\">Begin setup-----------------------------------&gt;</field></block></value><next><block type=\"variables_set\" id=\"Z/ps],)sx*BoR(+~UqG$\"><field name=\"VAR\" id=\"b[dhtARgL!(4^WbcjWJ@\">mqtt_topic</field><value name=\"VALUE\"><block type=\"text\" id=\"YjPM.F-l;sPAN28x]pnM\"><field name=\"TEXT\">rbw/test</field></block></value><next><block type=\"variables_set\" id=\"G-^$E9I6pZ4VkE5^bP=o\"><field name=\"VAR\" id=\"fFtlX+^WinPnyzXSRZ%h\">script_name</field><value name=\"VALUE\"><block type=\"text\" id=\"KOb?-~7BGjp[1$j@h-m3\"><field name=\"TEXT\">ori-atom-pub.v01</field></block></value><next><block type=\"variables_set\" id=\"$~((p5Y|Ow9R`/l:JemF\"><field name=\"VAR\" id=\"?SC22VTMA8l_+`#4|=_g\">mqtt_hostname</field><value name=\"VALUE\"><block type=\"text\" id=\"zkfA:FKSQhlBqsMcD7zN\"><field name=\"TEXT\">a9dtsgvtlpf54-ats.iot.eu-west-1.amazonaws.com</field></block></value><next><block type=\"text_print\" id=\"P%fX:H{v(fDJ{_xj{:Ae\"><value name=\"TEXT\"><block type=\"text_add\" id=\"OXK/p%4Ost!`|!TBfwVt\"><value name=\"arg0\"><shadow type=\"text\" id=\"g$,kUdMklY]U9?v=TkF9\"><field name=\"TEXT\">---Starting: </field></shadow></value><value name=\"arg1\"><block type=\"text_add\" id=\"K1`Vzv)%aNr[5|-h!:u2\"><value name=\"arg0\"><shadow type=\"text\" id=\"!1ftwGY-n)*aR).=t8NO\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"+pLO~YaH@j-cwtX*}bcy\"><field name=\"VAR\" id=\"fFtlX+^WinPnyzXSRZ%h\">script_name</field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\"^XSBJGLJy(ruaFnppyMZ\"><value name=\"arg0\"><shadow type=\"text\" id=\"Df)3A:=hKOOP9Pxnc__`\"><field name=\"TEXT\"> - connecting to: </field></shadow></value><value name=\"arg1\"><block type=\"variables_get\" id=\"w$PmS`[i`w5VF71?4w#^\"><field name=\"VAR\" id=\"?SC22VTMA8l_+`#4|=_g\">mqtt_hostname</field></block></value></block></value></block></value></block></value><next><block type=\"rgb_set_dir_rgb\" id=\".{^.T@~D+|z=bahY,Myb\"><field name=\"DIR\">left</field><value name=\"R\"><shadow type=\"math_slider\" id=\"9L]5x2;RWF_!bxOeIqP5\"><field name=\"NUM\" max=\"255\" step=\"1\">255</field></shadow></value><value name=\"G\"><shadow type=\"math_slider\" id=\"mPhiuMfK$dM=xhf(M*o5\"><field name=\"NUM\" max=\"255\" step=\"1\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_slider\" id=\"eEE~z25~-h=;p;_$F`R]\"><field name=\"NUM\" max=\"255\" step=\"1\">0</field></shadow></value><next><block type=\"rgb_set_dir_rgb\" id=\"NJvd!^/4iSch|tjy1ks/\"><field name=\"DIR\">right</field><value name=\"R\"><shadow type=\"math_slider\" id=\"*_2k.mY0Hl]-#Q/?]6Cj\"><field name=\"NUM\" max=\"255\" step=\"1\">0</field></shadow></value><value name=\"G\"><shadow type=\"math_slider\" id=\"`frT:_QLs76~RA?i/p$M\"><field name=\"NUM\" max=\"255\" step=\"1\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_slider\" id=\"ls:+~^*6lK4_aaTA$Kuv\"><field name=\"NUM\" max=\"255\" step=\"1\">255</field></shadow></value><next><block type=\"mqtt_set_client\" id=\"etrqBbho2Jys#`br$2oz\"><mutation SSL=\"True\" key=\"PAm5stik.key\" cert=\"PAm5stik.crt\"></mutation><value name=\"ID\"><shadow type=\"text\" id=\"T^XhV`D_Q*k;issY}KOE\"><field name=\"TEXT\">lite_switch-v0.2-pub</field></shadow><block type=\"variables_get\" id=\"fT./BmNGSupq.tdLjR|D\"><field name=\"VAR\" id=\"fFtlX+^WinPnyzXSRZ%h\">script_name</field></block></value><value name=\"SERVER\"><shadow type=\"text\" id=\"t|f~*9FVAe,+/ySLvcS7\"><field name=\"TEXT\">a9dtsgvtlpf54-ats.iot.eu-central-1.amazonaws.com</field></shadow><block type=\"variables_get\" id=\"8kcPX)_qZgQ;U#e|^%=T\"><field name=\"VAR\" id=\"?SC22VTMA8l_+`#4|=_g\">mqtt_hostname</field></block></value><value name=\"PORT\"><shadow type=\"math_number\" id=\"3VKs1D(a0dK`JHzTickA\"><field name=\"NUM\">8883</field></shadow></value><value name=\"USER\"><shadow type=\"text\" id=\"G9nxdlvh!u@ShEex3aM@\"><field name=\"TEXT\"></field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"u$w$9hGflXMw;)^5sN5q\"><field name=\"TEXT\"></field></shadow></value><value name=\"KEEPALIVE\"><shadow type=\"math_slider\" id=\"Wl}V+6ztYSJ:9v%`6-Mh\"><field name=\"NUM\" max=\"65536\" step=\"1\">10000</field></shadow></value><next><block type=\"mqtt_start\" id=\"7YYi![RqqL}SU0=2x:VK\"><next><block type=\"rgb_set_dir_rgb\" id=\"6e.QQ:(t,==!-{h:Vf`f\"><field name=\"DIR\">left</field><value name=\"R\"><shadow type=\"math_slider\" id=\"B]5c[;?YHKpYJ,j8wuhh\"><field name=\"NUM\" max=\"255\" step=\"1\">255</field></shadow></value><value name=\"G\"><shadow type=\"math_slider\" id=\"q#NWB|s$%Wt1mE8xwWwb\"><field name=\"NUM\" max=\"255\" step=\"1\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_slider\" id=\"Ve/y(x(!(h[l#gWlyYw{\"><field name=\"NUM\" max=\"255\" step=\"1\">255</field></shadow></value><next><block type=\"rgb_set_dir_rgb\" id=\"_{C5{f_6?O9$mX{pjx|E\"><field name=\"DIR\">right</field><value name=\"R\"><shadow type=\"math_slider\" id=\"DyQ1di|TaA%1zTOBt`L4\"><field name=\"NUM\" max=\"255\" step=\"1\">255</field></shadow></value><value name=\"G\"><shadow type=\"math_slider\" id=\"D9at~oW%!8Ggr`|_:PR3\"><field name=\"NUM\" max=\"255\" step=\"1\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_slider\" id=\"x~k:Moy7xDpU*DV^+(:#\"><field name=\"NUM\" max=\"255\" step=\"1\">255</field></shadow></value><next><block type=\"text_print\" id=\"NELRo(WMH!7CQ2=X$NxY\"><value name=\"TEXT\"><block type=\"text\" id=\"7!o5xEfN*D/,[N.3/4~8\"><field name=\"TEXT\">Started MQTT.</field></block></value><next><block type=\"ntp_init\" id=\"_h2Vq~8y^KP5xCd%DHpT\"><value name=\"host\"><shadow type=\"text\" id=\"*9@O]AC_i_poBA(7,pE3\"><field name=\"TEXT\">uk.pool.ntp.org</field></shadow></value><value name=\"timezone\"><shadow type=\"math_number\" id=\"?2DgjE,I;*#vw]eSo4]N\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"text_print\" id=\"]r;mHvx3Z=VXutR+VHPE\"><value name=\"TEXT\"><block type=\"text\" id=\"BPS.`UEqhHNfh7j7$UlA\"><field name=\"TEXT\">Initialised nntp</field></block></value><next><block type=\"rgb_set_dir_rgb\" id=\"E6L)03))Jds(XO4o,uzc\"><field name=\"DIR\">left</field><value name=\"R\"><shadow type=\"math_slider\" id=\"TU?px(i`pz2:(LgxFHO-\"><field name=\"NUM\" max=\"255\" step=\"1\">0</field></shadow></value><value name=\"G\"><shadow type=\"math_slider\" id=\"tEdWJ6p,FyVJQZRB*;NO\"><field name=\"NUM\" max=\"255\" step=\"1\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_slider\" id=\"j7|WblEc2~Q47+j6i66L\"><field name=\"NUM\" max=\"255\" step=\"1\">255</field></shadow></value><next><block type=\"rgb_set_dir_rgb\" id=\"rshnk4%%a-+j|iP*l~P1\"><field name=\"DIR\">right</field><value name=\"R\"><shadow type=\"math_slider\" id=\"[GPp}m0w~mwI`5g!eM/`\"><field name=\"NUM\" max=\"255\" step=\"1\">255</field></shadow></value><value name=\"G\"><shadow type=\"math_slider\" id=\"5BTCGK,Mv2MmzQi}LyN-\"><field name=\"NUM\" max=\"255\" step=\"1\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_slider\" id=\"V;;N+IoZ|7$.jLp9tthD\"><field name=\"NUM\" max=\"255\" step=\"1\">0</field></shadow></value><next><block type=\"text_print\" id=\"Wc~o#*2Y=nL5H?xlf!%m\"><value name=\"TEXT\"><block type=\"text\" id=\"7O_ULyDF%$PV,iia#988\"><field name=\"TEXT\">&lt;---------------------------------------End setup</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"button_callback\" id=\"1!pU`=NzwsMcua*b9JWS\" x=\"470\" y=\"250\"><field name=\"BUTTON\">A</field><field name=\"EVENT\">wasPressed</field><statement name=\"FUNC\"><block type=\"text_print\" id=\"#4RdBJPX!%LQwc*y2Jq6\"><value name=\"TEXT\"><block type=\"text_add\" id=\"bxMC/6wl5[UfuE~#*/;@\"><value name=\"arg0\"><shadow type=\"text\" id=\"57..9ADgnqs^;vf^Ap=*\"><field name=\"TEXT\">---Starting: </field></shadow><block type=\"text\" id=\"pX:m.rKklBR1w8q5j28,\"><field name=\"TEXT\">publishing to: </field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\")*1!:+8GY_9tYj@KPrFB\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\",n@GrhZQ/6##D-6T$;K)\"><field name=\"VAR\" id=\"?SC22VTMA8l_+`#4|=_g\">mqtt_hostname</field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\"Ew=[hLie3Evr|IS~LIFh\"><value name=\"arg0\"><shadow type=\"text\" id=\"l,[J$9f@)?kB[pS0eEpl\"><field name=\"TEXT\">:</field></shadow></value><value name=\"arg1\"><block type=\"variables_get\" id=\"n?SBa|7Cx90Nzsp^iEgz\"><field name=\"VAR\" id=\"b[dhtARgL!(4^WbcjWJ@\">mqtt_topic</field></block></value></block></value></block></value></block></value><next><block type=\"mqtt_publish\" id=\"G]{R@116j|{}CqVTLP#(\"><value name=\"FROM\"><shadow type=\"text\" id=\"}wOxxRhO/vIB^=!EZTNh\"><field name=\"TEXT\">rbw/env</field></shadow><block type=\"variables_get\" id=\"ip=O]}/,Omdh%Ihx)vp?\"><field name=\"VAR\" id=\"b[dhtARgL!(4^WbcjWJ@\">mqtt_topic</field></block></value><value name=\"MSG\"><shadow type=\"text\" id=\"bYnn+7U/l_=o(,vUX7hW\"><field name=\"TEXT\"></field></shadow><block type=\"dumps_json\" id=\"r=*0ydBtAy~/].p)WPp.\"><value name=\"JSON_VAR\"><block type=\"map_on_loop\" id=\"GaJbk=dj8}wl#7;w:7NM\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"_bJQn}Jexy#DHM{8cd]k\"><value name=\"key\"><block type=\"text\" id=\"3.5o^|Gi3kKz`!.7EXtR\"><field name=\"TEXT\">timestamp</field></block></value><value name=\"value\"><block type=\"text_add\" id=\"A+OM8K%Jcg#AIM-t)HVu\"><value name=\"arg0\"><shadow type=\"text\" id=\"u,/vG|g+WNr8%El%Exeq\"><field name=\"TEXT\"></field></shadow><block type=\"ntp_get_date_format\" id=\"okr-[sMxD])ePHoJTM{[\"><value name=\"format\"><shadow type=\"text\" id=\"AvbEANg4XOy+2a6cD#h.\"><field name=\"TEXT\">-</field></shadow></value></block></value><value name=\"arg1\"><block type=\"text_add\" id=\".N!S^Q7qkRk^%p2@E.Wg\"><value name=\"arg0\"><shadow type=\"text\" id=\",/u3V;++sc)nnSlKg+XO\"><field name=\"TEXT\"> </field></shadow></value><value name=\"arg1\"><block type=\"ntp_get_time_format\" id=\"XNDzj/I0mUKAY+v;[@{?\"><value name=\"format\"><shadow type=\"text\" id=\"LAlgwrZd6yB%*Xs4,Wf+\"><field name=\"TEXT\">:</field></shadow></value></block></value></block></value></block></value><next><block type=\"create_map_key\" id=\"I4r9O,j(vsAr(P!6b;aM\"><value name=\"key\"><block type=\"text\" id=\"!yAys=sS,2s9vOJ9$75d\"><field name=\"TEXT\">device_id</field></block></value><value name=\"value\"><block type=\"text\" id=\"{%]-ZVfz:3K~hZB-s=g-\"><field name=\"TEXT\">rbwAtom01</field></block></value><next><block type=\"create_map_key\" id=\"Y^9[H@zWWN4DG#}kL[IA\"><value name=\"key\"><block type=\"text\" id=\"FPRn/B8p62HEjXm-q#yx\"><field name=\"TEXT\">humidity</field></block></value><value name=\"value\"><block type=\"math_arithmetic\" id=\"eFua|gY7wdGC3c=!y4!R\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"math_random_int\" id=\"`*1u;F+lDTzm[nnSz+e1\"><value name=\"FROM\"><block type=\"math_number\" id=\"H^o=*c=1Z|$ADkekTjkF\"><field name=\"NUM\">250</field></block></value><value name=\"TO\"><block type=\"math_number\" id=\"b6kzs}6GYHU]6V7;?=j?\"><field name=\"NUM\">260</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"Ogz414PuluE-kq[JXcF5\"><field name=\"NUM\">10</field></block></value></block></value><next><block type=\"create_map_key\" id=\"n)y;$|y7Cb8nAnovxm8!\"><value name=\"key\"><block type=\"text\" id=\"s[0qPhYPB{3jt,`yv87{\"><field name=\"TEXT\">temp</field></block></value><value name=\"value\"><block type=\"math_arithmetic\" id=\":R!d)4Gq$YXQ-uimr::?\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"math_random_int\" id=\"UvhJwmo`*jU9h;kDaGz9\"><value name=\"FROM\"><block type=\"math_number\" id=\"B3eja,z;ARx3%j+,!w*;\"><field name=\"NUM\">270</field></block></value><value name=\"TO\"><block type=\"math_number\" id=\"_/(%f.|Zt^R/eN*)[vTi\"><field name=\"NUM\">280</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"*F$WK,Fcfr@uV3Yg7;U{\"><field name=\"NUM\">10</field></block></value></block></value><next><block type=\"create_map_key\" id=\"3;OW.HXGe3`g]O{Y5Gnz\"><value name=\"key\"><block type=\"text\" id=\"MCESF?wA}62OxQ#Zh)DW\"><field name=\"TEXT\">pressure</field></block></value><value name=\"value\"><block type=\"math_arithmetic\" id=\"zAGg0.9~Kkh@9`y|wZ=]\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"math_random_int\" id=\"@xMG/Xy]gA{dS:Y1=V~V\"><value name=\"FROM\"><block type=\"math_number\" id=\"UhRY$id61UcK9CMsPW};\"><field name=\"NUM\">101700</field></block></value><value name=\"TO\"><block type=\"math_number\" id=\"uPR~D{N6|Tx8QZCgZ8wv\"><field name=\"NUM\">101800</field></block></value></block></value><value name=\"B\"><block type=\"math_number\" id=\"NYMe,$?~e|[.e%e9-(HM\"><field name=\"NUM\">10</field></block></value></block></value><next><block type=\"create_map_key\" id=\"+;msc]I.[W@OlWCOgW3:\"><value name=\"key\"><block type=\"text\" id=\"p0mfYwTV6ROhdp2tF(J)\"><field name=\"TEXT\">message</field></block></value><value name=\"value\"><block type=\"math_number\" id=\"^H|m8U!X7YD4Su;Ar/f,\"><field name=\"NUM\">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></value></block></value></block></next></block></statement></block><block type=\"text\" id=\"+XF%y(p/BoHc2;b*JEjR\" disabled=\"true\" x=\"1007\" y=\"256\"><field name=\"TEXT\">---publishing to: </field></block><block type=\"math_number\" id=\"qS(*CI$HjfXBbeFw~p=N\" disabled=\"true\" x=\"1294\" y=\"495\"><field name=\"NUM\">0</field></block><block type=\"math_number\" id=\"/rxvM]O6!_QyHNqylI(g\" disabled=\"true\" x=\"1293\" y=\"497\"><field name=\"NUM\">0</field></block>","Blockly.Remotes":[],"modules":["machine","rgb"]}